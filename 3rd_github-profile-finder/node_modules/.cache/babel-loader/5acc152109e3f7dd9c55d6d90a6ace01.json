{"ast":null,"code":"var _jsxFileName = \"/Users/Jin/Desktop/projects/SOPT28th_Web/3rd_github-profile-finder/src/components/history.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useRecoilState } from 'recoil';\nimport { userData } from '../state';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst History = () => {\n  _s();\n\n  const [userState, setUserState] = useRecoilState(userData);\n  const [userList, setUserList] = useState(0);\n  useEffect(() => {\n    userState.data && localStorage.setItem(userState.data.login, JSON.stringify(userState));\n  }, [userState]);\n\n  const onHistoryClick = e => {\n    const target = e.target;\n    setUserState(JSON.parse(localStorage[target.innerText]));\n  };\n\n  const deleteHistory = e => {\n    var _target$parentElement, _target$parentElement2, _target$parentElement3, _target$parentElement4, _target$parentElement5, _target$parentElement6;\n\n    const target = e.target;\n    console.log(target.parentElement);\n    let historyDiv = ((_target$parentElement = target.parentElement) === null || _target$parentElement === void 0 ? void 0 : _target$parentElement.tagName) === 'DIV' ? target.parentElement : ((_target$parentElement2 = target.parentElement) === null || _target$parentElement2 === void 0 ? void 0 : (_target$parentElement3 = _target$parentElement2.parentElement) === null || _target$parentElement3 === void 0 ? void 0 : _target$parentElement3.tagName) === 'DIV' ? (_target$parentElement4 = target.parentElement) === null || _target$parentElement4 === void 0 ? void 0 : _target$parentElement4.parentElement : (_target$parentElement5 = target.parentElement) === null || _target$parentElement5 === void 0 ? void 0 : (_target$parentElement6 = _target$parentElement5.parentElement) === null || _target$parentElement6 === void 0 ? void 0 : _target$parentElement6.parentElement;\n    console.log(historyDiv === null || historyDiv === void 0 ? void 0 : historyDiv.innerText);\n    (historyDiv === null || historyDiv === void 0 ? void 0 : historyDiv.innerText) && localStorage.removeItem(historyDiv === null || historyDiv === void 0 ? void 0 : historyDiv.innerText);\n    setUserList(userList => userList + 1);\n  }; // (e.target.parentNode.parentNode.tag ===\"DIV\" ? e.target.parentNode.parentNode )\n\n\n  const rendering = () => {\n    const result = [];\n\n    for (let i = 0; i < localStorage.length; i++) {\n      result.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"history\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"id\",\n          onClick: onHistoryClick,\n          children: localStorage.key(i)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: deleteHistory,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-trash\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, localStorage.key(i) !== null && localStorage.getItem(localStorage.key(i) || '[]') && JSON.parse(localStorage.getItem(localStorage.key(i) || '[]') || '[]').data.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this));\n    }\n\n    return result;\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"history__text\",\n      children: \"History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), rendering()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n};\n\n_s(History, \"4T3hNdlWvzpYvTMymmiFsBc2NgI=\", false, function () {\n  return [useRecoilState];\n});\n\n_c = History;\nconst Container = styled.section`\n    position: fixed;\n    top: 20%;\n    left: 10px;\n    width: 140px;\n\n    .history__text {\n        font-size: 24px;\n        color: white;\n    }\n    .history {\n        display: flex;\n        justify-content: space-between;\n        margin-top: 8px;\n        .id {\n            cursor: pointer;\n            /* margin-top: 8px; */\n            margin-right: 5px;\n            &:hover {\n                color: blue;\n            }\n        }\n        button {\n            background-color: transparent;\n            /* padding: 0px; */\n        }\n        svg {\n            cursor: pointer;\n\n            &:hover {\n                color: red;\n            }\n        }\n    }\n`;\n_c2 = Container;\nexport default History;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"History\");\n$RefreshReg$(_c2, \"Container\");","map":{"version":3,"sources":["/Users/Jin/Desktop/projects/SOPT28th_Web/3rd_github-profile-finder/src/components/history.tsx"],"names":["React","useEffect","useState","styled","useRecoilState","userData","History","userState","setUserState","userList","setUserList","data","localStorage","setItem","login","JSON","stringify","onHistoryClick","e","target","parse","innerText","deleteHistory","console","log","parentElement","historyDiv","tagName","removeItem","rendering","result","i","length","push","key","getItem","id","Container","section"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useRecoilState } from 'recoil';\nimport { userData } from '../state';\n\nconst History = () => {\n    const [userState, setUserState] = useRecoilState(userData);\n    const [userList, setUserList] = useState(0);\n\n    useEffect(() => {\n        userState.data &&\n            localStorage.setItem(\n                userState.data.login,\n                JSON.stringify(userState)\n            );\n    }, [userState]);\n\n    const onHistoryClick = (\n        e: React.MouseEvent<HTMLDivElement, MouseEvent>\n    ) => {\n        const target = e.target as HTMLDivElement;\n        setUserState(JSON.parse(localStorage[target.innerText]));\n    };\n\n    const deleteHistory = (\n        e: React.MouseEvent<HTMLButtonElement, MouseEvent>\n    ) => {\n        const target = e.target as HTMLElement;\n        console.log(target.parentElement);\n        let historyDiv =\n            target.parentElement?.tagName === 'DIV'\n                ? target.parentElement\n                : target.parentElement?.parentElement?.tagName === 'DIV'\n                ? target.parentElement?.parentElement\n                : target.parentElement?.parentElement?.parentElement;\n        console.log(historyDiv?.innerText);\n\n        historyDiv?.innerText && localStorage.removeItem(historyDiv?.innerText);\n        setUserList((userList) => userList + 1);\n    };\n\n    // (e.target.parentNode.parentNode.tag ===\"DIV\" ? e.target.parentNode.parentNode )\n    const rendering = () => {\n        const result = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            result.push(\n                <div\n                    key={\n                        localStorage.key(i) !== null &&\n                        localStorage.getItem(localStorage.key(i) || '[]') &&\n                        JSON.parse(\n                            localStorage.getItem(localStorage.key(i) || '[]') ||\n                                '[]'\n                        ).data.id\n                    }\n                    className=\"history\"\n                >\n                    <div className=\"id\" onClick={onHistoryClick}>\n                        {localStorage.key(i)}\n                    </div>\n                    <button onClick={deleteHistory}>\n                        <i className=\"fas fa-trash\"></i>\n                    </button>\n                </div>\n            );\n        }\n        return result;\n    };\n    return (\n        <Container>\n            <div className=\"history__text\">History</div>\n            {rendering()}\n        </Container>\n    );\n};\n\nconst Container = styled.section`\n    position: fixed;\n    top: 20%;\n    left: 10px;\n    width: 140px;\n\n    .history__text {\n        font-size: 24px;\n        color: white;\n    }\n    .history {\n        display: flex;\n        justify-content: space-between;\n        margin-top: 8px;\n        .id {\n            cursor: pointer;\n            /* margin-top: 8px; */\n            margin-right: 5px;\n            &:hover {\n                color: blue;\n            }\n        }\n        button {\n            background-color: transparent;\n            /* padding: 0px; */\n        }\n        svg {\n            cursor: pointer;\n\n            &:hover {\n                color: red;\n            }\n        }\n    }\n`;\n\nexport default History;\n"]},"metadata":{},"sourceType":"module"}