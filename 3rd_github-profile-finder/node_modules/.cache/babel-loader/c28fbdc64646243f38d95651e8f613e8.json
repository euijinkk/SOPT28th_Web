{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/Jin/Desktop/projects/SOPT28th_Web/3rd_github-profile-finder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"/Users/Jin/Desktop/projects/SOPT28th_Web/3rd_github-profile-finder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject;import React,{useEffect,useState}from'react';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var History=function History(_ref){var userState=_ref.userState,setUserState=_ref.setUserState;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),userList=_useState2[0],setUserList=_useState2[1];console.log(userState);useEffect(function(){localStorage.setItem([userState.data.login],JSON.stringify(userState));// setUserList([...userList, userState.data.login]);\nsetUserList(function(userList){return userList+1;});console.log(userState.data.login);console.log(userList);},[userState]);// setUserList([userState.data]);\nvar onHistoryClick=function onHistoryClick(e){// console.log(e.target.innerText);\nsetUserState(JSON.parse(localStorage[e.target.innerText]));};var deleteHistory=function deleteHistory(e){var historyDiv=e.target.parentNode.tagName==='DIV'?e.target.parentNode:e.target.parentNode.parentNode.tagName==='DIV'?e.target.parentNode.parentNode:e.target.parentNode.parentNode.parentNode;console.log(historyDiv.innerText);localStorage.removeItem(historyDiv.innerText);setUserList(function(userList){return userList+1;});// setUserList((userList) =>\n//     userList.filter((item) => item !== historyDiv.innerText)\n// );\n// console.log(userList);\n};// (e.target.parentNode.parentNode.tag ===\"DIV\" ? e.target.parentNode.parentNode )\nvar rendering=function rendering(){var result=[];for(var i=0;i<localStorage.length;i++){result.push(/*#__PURE__*/_jsxs(\"div\",{className:\"history\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"id\",onClick:onHistoryClick,children:localStorage.key(i)}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteHistory,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]},JSON.parse(localStorage.getItem(localStorage.key(i))).data.id));}return result;};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"history__text\",children:\"History\"}),rendering()]});};var Container=styled.section(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    position: fixed;\\n    top: 20%;\\n    left: 10px;\\n    width: 140px;\\n\\n    .history__text {\\n        font-size: 24px;\\n        color: white;\\n    }\\n    .history {\\n        display: flex;\\n        justify-content: space-between;\\n        margin-top: 8px;\\n        .id {\\n            cursor: pointer;\\n            /* margin-top: 8px; */\\n            margin-right: 5px;\\n            &:hover {\\n                color: blue;\\n            }\\n        }\\n        button {\\n            background-color: transparent;\\n            /* padding: 0px; */\\n        }\\n        svg {\\n            cursor: pointer;\\n\\n            &:hover {\\n                color: red;\\n            }\\n        }\\n    }\\n\"])));export default History;","map":{"version":3,"sources":["/Users/Jin/Desktop/projects/SOPT28th_Web/3rd_github-profile-finder/src/components/history.jsx"],"names":["React","useEffect","useState","styled","History","userState","setUserState","userList","setUserList","console","log","localStorage","setItem","data","login","JSON","stringify","onHistoryClick","e","parse","target","innerText","deleteHistory","historyDiv","parentNode","tagName","removeItem","rendering","result","i","length","push","key","getItem","id","Container","section"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\n\nconst History = ({ userState, setUserState }) => {\n    const [userList, setUserList] = useState(0);\n    console.log(userState);\n\n    useEffect(() => {\n        localStorage.setItem([userState.data.login], JSON.stringify(userState));\n        // setUserList([...userList, userState.data.login]);\n\n        setUserList((userList) => userList + 1);\n        console.log(userState.data.login);\n        console.log(userList);\n    }, [userState]);\n\n    // setUserList([userState.data]);\n\n    const onHistoryClick = (e) => {\n        // console.log(e.target.innerText);\n        setUserState(JSON.parse(localStorage[e.target.innerText]));\n    };\n\n    const deleteHistory = (e) => {\n        let historyDiv =\n            e.target.parentNode.tagName === 'DIV'\n                ? e.target.parentNode\n                : e.target.parentNode.parentNode.tagName === 'DIV'\n                ? e.target.parentNode.parentNode\n                : e.target.parentNode.parentNode.parentNode;\n        console.log(historyDiv.innerText);\n\n        localStorage.removeItem(historyDiv.innerText);\n        setUserList((userList) => userList + 1);\n        // setUserList((userList) =>\n        //     userList.filter((item) => item !== historyDiv.innerText)\n        // );\n        // console.log(userList);\n    };\n\n    // (e.target.parentNode.parentNode.tag ===\"DIV\" ? e.target.parentNode.parentNode )\n    const rendering = () => {\n        const result = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            result.push(\n                <div\n                    key={\n                        JSON.parse(localStorage.getItem(localStorage.key(i)))\n                            .data.id\n                    }\n                    className=\"history\"\n                >\n                    <div className=\"id\" onClick={onHistoryClick}>\n                        {localStorage.key(i)}\n                    </div>\n                    <button onClick={deleteHistory}>\n                        <i className=\"fas fa-trash\"></i>\n                    </button>\n                </div>\n            );\n        }\n        return result;\n    };\n    return (\n        <Container>\n            <div className=\"history__text\">History</div>\n            {rendering()}\n        </Container>\n    );\n};\n\nconst Container = styled.section`\n    position: fixed;\n    top: 20%;\n    left: 10px;\n    width: 140px;\n\n    .history__text {\n        font-size: 24px;\n        color: white;\n    }\n    .history {\n        display: flex;\n        justify-content: space-between;\n        margin-top: 8px;\n        .id {\n            cursor: pointer;\n            /* margin-top: 8px; */\n            margin-right: 5px;\n            &:hover {\n                color: blue;\n            }\n        }\n        button {\n            background-color: transparent;\n            /* padding: 0px; */\n        }\n        svg {\n            cursor: pointer;\n\n            &:hover {\n                color: red;\n            }\n        }\n    }\n`;\n\nexport default History;\n"]},"metadata":{},"sourceType":"module"}